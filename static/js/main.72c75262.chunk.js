(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/ready.f0341389.mp3"},function(e,t,n){e.exports=n.p+"static/media/steady.fdf3d26b.mp3"},function(e,t,n){e.exports=n.p+"static/media/work.e06f877e.mp3"},function(e,t,n){e.exports=n.p+"static/media/rest.aacde6dd.mp3"},function(e,t,n){e.exports=n.p+"static/media/congratulations.2e45e984.mp3"},,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(4),o=n.n(s),i=n(11),c=(n(18),function(e){var t=e.inputOnChange,n=e.intervals;return r.a.createElement("div",{className:"intervals"},"Intervals:",r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"intervals",value:n,min:"1",max:"100",required:!0}))}),l=function(e){var t=e.inputOnChange,n=e.work,a=e.rest;return r.a.createElement("section",{className:"timing"},r.a.createElement("section",{className:"timing-work"},r.a.createElement("label",null,"Work ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"work",value:n,placeholder:"15 s",min:"1",required:!0})),r.a.createElement("section",{className:"timing-rest"},r.a.createElement("label",null,"Rest ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"rest",value:a,placeholder:"45 s",min:"1",required:!0})))};function u(e){var t=e%60;t<10&&(t="0"+t);var n=Math.floor(e/60),a=Math.floor(e/3600);return e>=3600?((n%=60)<10&&(n="0"+n),"".concat(a,":").concat(n,":").concat(t)):"".concat(n,":").concat(t)}var d=function(e){var t=e.duration;return r.a.createElement("div",{className:"workout-duration"},r.a.createElement("em",null,"Workout Duration:"),r.a.createElement("strong",null,u(t)))},m=function(e){var t=e.soundsAvailable,n=e.dispatch;return r.a.createElement("div",{className:"sounds"},r.a.createElement("em",null,"Sounds:"),r.a.createElement("input",{type:"checkbox",name:"sounds",checked:t,onChange:function(e){return n({type:"toggleSounds",payload:e.target.checked})}}))},p=function(e){var t=e.start,n=e.inputOnChange,a=e.state,s=e.dispatch;return r.a.createElement("form",{onSubmit:t,className:"timer-settings"},r.a.createElement(c,{inputOnChange:n,intervals:a.intervals}),r.a.createElement(l,{inputOnChange:n,work:a.work,rest:a.rest}),r.a.createElement(d,{duration:a.duration}),r.a.createElement(m,{soundsAvailable:a.soundsAvailable,dispatch:s}),r.a.createElement("div",{className:"start"},r.a.createElement("button",{type:"submit"},"Start")))},v=function(e){var t=e.currentInterval,n=e.intervals,a=e.remainingTime;return r.a.createElement("div",{className:"remaining-time"},r.a.createElement("span",null,t," / ",n),r.a.createElement("span",null,u(a)))},g=function(e){var t=e.progressStatusClass,n=e.progressStatusText;return r.a.createElement("p",{className:"status ".concat(t)},n)},f=function(e){var t=e.state;return r.a.createElement(a.Fragment,null,r.a.createElement(v,{currentInterval:t.currentInterval,intervals:t.intervals,remainingTime:t.remainingTime}),r.a.createElement(g,{progressStatusClass:t.progressStatusClass,progressStatusText:t.progressStatusText}))},w=function(e){return e.bars.map(function(e,t){return r.a.createElement("div",{key:t,className:"bar ".concat("rest"===e.type?"rest":"work"),style:{width:e.width+"%"}})})},b=n(5),h=n.n(b),k=n(2),y=n(1);function E(e,t){var n=t.type,a=t.payload;switch(n){case"updateInput":var r=JSON.parse(localStorage.settings);return r=Object(y.a)({},r,Object(k.a)({},a.field,a.value)),localStorage.settings=JSON.stringify(r),Object(y.a)({},e,Object(k.a)({},a.field,a.value));case"updateBars":var s=a.bars,o=a.duration;return Object(y.a)({},e,{bars:s,duration:o});case"startWorkout":return Object(y.a)({},e,{working:!0,remainingTime:e.duration});case"setWorkingStatus":return Object(y.a)({},e,{progressStatusText:a.text,progressStatusClass:a.class});case"nextInterval":return Object(y.a)({},e,{currentInterval:e.currentInterval+1});case"remainingTypeReduceSecond":return Object(y.a)({},e,{remainingTime:e.remainingTime-1});case"finishWorkout":return Object(y.a)({},e,{working:!1,currentInterval:0});case"getSettings":var i=JSON.parse(localStorage.settings);return Object(y.a)({},e,{intervals:i.intervals,rest:i.rest,work:i.work,soundsAvailable:i.soundsAvailable});case"toggleSounds":var c=JSON.parse(localStorage.settings);return c.soundsAvailable=a,localStorage.settings=JSON.stringify(c),Object(y.a)({},e,{soundsAvailable:a});default:return e}}var S=n(6),O=n.n(S),W=n(7),I=n.n(W),T=n(8),x=n.n(T),A=n(9),N=n.n(A),j=n(10),C=n.n(j),R=new Audio(O.a),J=new Audio(I.a),B=new Audio(x.a),q=new Audio(N.a),U=new Audio(C.a),D=new h.a,F={intervals:3,currentInterval:0,work:15,rest:45,working:!1,duration:void 0,remainingTime:void 0,bars:[],progressStatusText:"",progressStatusClass:"",soundsAvailable:!0},H=function(){var e=Object(a.useReducer)(E,F),t=Object(i.a)(e,2),n=t[0],s=t[1],o=Object(a.useRef)();function c(e){n.soundsAvailable&&(e.play(),e.currentTime=0)}return Object(a.useEffect)(function(){for(var e=n.intervals,t=n.work,a=n.rest,r=[],o=e*(a+t)-a,i=0;i<e;i++)r.push({type:"work",width:t/o*100}),i+1<e&&r.push({type:"rest",width:a/o*100});s({type:"updateBars",payload:{bars:r,duration:o}})},[n.intervals,n.work,n.rest]),Object(a.useEffect)(function(){var e=n.intervals,t=n.work,a=n.rest,r=n.soundsAvailable;void 0===localStorage.settings?localStorage.settings=JSON.stringify({intervals:e,work:t,rest:a,soundsAvailable:r}):s({type:"getSettings"})},[]),r.a.createElement("div",{className:"App"},!1===n.working?r.a.createElement(p,{start:function(e){e.preventDefault(),D.enable(),o.current.style.animation="pushBall ".concat(n.duration,"s linear 3s"),s({type:"startWorkout"}),s({type:"setWorkingStatus",payload:{text:"Ready",class:"white"}}),c(R),setTimeout(function(){s({type:"setWorkingStatus",payload:{text:"Steady",class:"white"}}),c(J)},1500),setTimeout(function(){s({type:"nextInterval"});var e,t=setInterval(function(){s({type:"remainingTypeReduceSecond"})},1e3),a="Work";function r(){s({type:"setWorkingStatus",payload:{text:a,class:"Work"===a?"red":"green"}})}r(),function t(o){e=setTimeout(function(){a="Work"===a?"Rest":"Work",r();var o="Work"===a?n.work:n.rest;"Work"===a?(c(B),s({type:"nextInterval"})):n.intervals>1&&c(q),clearInterval(e),t(o)},1e3*o)}(n.work),c(B),setTimeout(function(){D.disable(),o.current.style.animation="",s({type:"finishWorkout"}),clearInterval(t),s({type:"setWorkingStatus",payload:{text:"",class:"white"}}),c(U),clearInterval(e)},1e3*n.duration)},3e3)},inputOnChange:function(e){if(""!==e.target.value&&"0"!==e.target.value){var t=parseInt(e.target.value);e.target.value=t;var n=[e.target.name];s({type:"updateInput",payload:{field:n,value:t}})}},state:n,dispatch:s}):r.a.createElement(a.Fragment,null,r.a.createElement(f,{state:n})),r.a.createElement("div",{className:"progress"},r.a.createElement(w,{bars:n.bars}),r.a.createElement("div",{className:"ball",ref:o})))},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(H,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/HIIT",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/HIIT","/service-worker.js");L?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):M(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):M(t,e)})}}()}],[[12,1,2]]]);
//# sourceMappingURL=main.72c75262.chunk.js.map