(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/work.317b5feb.mp3"},,,,,,,function(e,t,n){e.exports=n.p+"static/media/ready.ab35e130.mp3"},function(e,t,n){e.exports=n.p+"static/media/steady.60cba476.mp3"},function(e,t,n){e.exports=n.p+"static/media/rest.9b6c6a7a.mp3"},function(e,t,n){e.exports=n.p+"static/media/congratulations.7d1710f9.mp3"},,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),s=(n(23),function(e){var t=e.inputOnChange,n=e.intervals;return r.a.createElement("div",{className:"intervals"},"Intervals:",r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"intervals",value:n,min:"1",max:"100",required:!0}))}),c=function(e){var t=e.inputOnChange,n=e.work,a=e.rest;return r.a.createElement("section",{className:"timing"},r.a.createElement("section",{className:"timing-work"},r.a.createElement("label",null,"Work ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"work",value:n,placeholder:"15 s",min:"1"})),r.a.createElement("section",{className:"timing-rest"},r.a.createElement("label",null,"Rest ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"rest",value:a,placeholder:"45 s",min:"1"})))};function l(e){if(void 0===e)return"";var t=e%60;t<10&&(t="0"+t);var n=Math.floor(e/60),a=Math.floor(e/3600);return e>=3600?((n%=60)<10&&(n="0"+n),"".concat(a,":").concat(n,":").concat(t)):"".concat(n,":").concat(t)}var u=function(e){var t=e.totalTime,n=e.canStart;return r.a.createElement("div",{className:"workout-duration"},r.a.createElement("em",null,"Workout Duration:"),r.a.createElement("strong",null,n&&l(t)))},m=n(1),v=function(e){var t=e.soundsAvailable,n=(e.dispatch,Object(m.d)(function(e){return e}).toggleSounds);return r.a.createElement("div",{className:"sounds"},r.a.createElement("em",null,"Sounds:"),r.a.createElement("input",{type:"checkbox",name:"sounds",checked:t,onChange:function(e){return n(e.target.checked)}}))},d=function(e){var t=e.start,n=e.state,a=n.intervals,o=n.work,i=n.rest,l=n.totalTime,d=n.soundsAvailable,f=n.canStart,g=Object(m.d)(function(e){return e}).updateInput;function p(e){var t=parseInt(e.target.value);e.target.value=t;var n=[e.target.name];!t>0&&(t=0),g({field:n,value:t})}return r.a.createElement("form",{onSubmit:t,className:"timer-settings"},r.a.createElement(s,{inputOnChange:p,intervals:a}),r.a.createElement(c,{inputOnChange:p,work:o,rest:i}),r.a.createElement(u,{totalTime:l,canStart:f}),r.a.createElement(v,{soundsAvailable:d}),r.a.createElement("div",{className:"start ".concat(f?"":"disabled")},r.a.createElement("button",{type:"submit"},"Start")))},f=function(){var e=Object(m.e)(function(e){return e}),t=e.currentInterval,n=e.intervals,a=e.remainingTime,o=e.intervalsDuration,i=e.timePassed;return r.a.createElement("div",{className:"remaining-time"},r.a.createElement("p",null,t," / ",n),r.a.createElement("p",null,function(){var e=0;return o.forEach(function(t,n){t<=i&&(e=n+1)}),o[e]-i}(),"s"),r.a.createElement("p",null,l(a)))},g=function(){var e=Object(m.e)(function(e){return e}),t=e.progressStatusClass,n=e.progressStatusText;return r.a.createElement("p",{className:"status ".concat(t)},n)},p=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(f,null),r.a.createElement(g,null))},b=function(e){return e.bars.map(function(e,t){return r.a.createElement("div",{key:t,className:"bar ".concat("rest"===e.type?"rest":"work"),style:{width:e.width+"%"}})})},w=function(e){var t=e.bars,n=e.ball,a=e.canStart;return r.a.createElement("div",{className:"progress-bar ".concat(a?"":"not-active")},r.a.createElement(b,{bars:t}),r.a.createElement("div",{className:"ball",ref:n}))},h=n(12),k=n.n(h),E=n(13),S=n.n(E),O=n(14),y=n.n(O),T=n(6),j=n.n(T),N=n(15),W=n.n(N),I=n(16),x=n.n(I),A=n(3),C=n(17),D=Object(m.c)({intervals:3,currentInterval:0,work:15,rest:45,canStart:!0,working:!1,totalTime:void 0,timePassed:0,remainingTime:void 0,bars:[],intervalsDuration:[],progressStatusText:"",progressStatusClass:"",soundsAvailable:!0,updateInput:Object(m.b)(function(e,t){var n=t.field,a=t.value,r=JSON.parse(localStorage.settings);r=Object(C.a)({},r,Object(A.a)({},n,a)),e[n]=a;var o=e.intervals>0&&e.work>0&&e.rest>0;o&&(localStorage.settings=JSON.stringify(r)),e.canStart=o}),updateBars:Object(m.b)(function(e,t){var n=t.bars,a=t.totalTime;e.canStart&&(e.bars=n,e.totalTime=a)}),startWorkout:Object(m.b)(function(e){e.working=!0,e.timePassed=0,e.remainingTime=e.totalTime,e.intervalsDuration=e.bars.map(function(e){return e.duration});for(var t=1;t<e.intervalsDuration.length;t++)e.intervalsDuration[t]+=e.intervalsDuration[t-1]}),setWorkingStatus:Object(m.b)(function(e,t){e.progressStatusText=t.text,e.progressStatusClass=t.class}),nextInterval:Object(m.b)(function(e){e.currentInterval=e.currentInterval+1}),remainingTypeReduceSecond:Object(m.b)(function(e){e.timePassed=e.timePassed+1,e.remainingTime=e.totalTime-e.timePassed}),finishWorkout:Object(m.b)(function(e){e.working=!1,e.timePassed=0,e.currentInterval=0,e.intervalsDuration=[]}),getSettings:Object(m.b)(function(e,t){var n=JSON.parse(localStorage.settings);e.intervals=n.intervals,e.rest=n.rest,e.work=n.work,e.soundsAvailable=n.soundsAvailable,e.canStart=e.intervals>0&&e.work>0&&e.rest>0}),toggleSounds:Object(m.b)(function(e,t){var n=JSON.parse(localStorage.settings);n.soundsAvailable=t,localStorage.settings=JSON.stringify(n),e.soundsAvailable=t})}),P=new k.a,R=function(){var e=Object(m.e)(function(e){return e}),t=Object(m.d)(function(e){return e}),n=t.updateBars,o=t.startWorkout,i=t.setWorkingStatus,s=t.nextInterval,c=t.remainingTypeReduceSecond,l=t.finishWorkout,u=t.getSettings,v=Object(a.useRef)(),f=function(t){e.soundsAvailable&&new Audio(t).play()};return Object(a.useEffect)(function(){for(var t=e.intervals,a=e.work,r=e.rest,o=[],i=t*(r+a)-r,s=0;s<t;s++)o.push({type:"work",width:a/i*100,duration:a}),s+1<t&&o.push({type:"rest",width:r/i*100,duration:r});n({bars:o,totalTime:i})},[e.intervals,e.work,e.rest]),Object(a.useEffect)(function(){var t=e.intervals,n=e.work,a=e.rest,r=e.soundsAvailable;void 0===localStorage.settings?localStorage.settings=JSON.stringify({intervals:t,work:n,rest:a,soundsAvailable:r}):u()},[]),r.a.createElement("div",{className:"App"},!1===e.working?r.a.createElement(d,{start:function(t){t.preventDefault(),P.enable(),v.current.style.animation="pushBall ".concat(e.totalTime,"s linear 3s"),o(),i({text:"Ready",class:"white"}),f(S.a),setTimeout(function(){i({text:"Steady",class:"white"}),f(y.a)},1500),setTimeout(function(){s();var t,n=setInterval(function(){c()},1e3),a="Work";function r(){i({text:a,class:"Work"===a?"red":"green"})}r(),function n(o){t=setTimeout(function(){a="Work"===a?"Rest":"Work",r();var o="Work"===a?e.work:e.rest;"Work"===a?(f(j.a),s()):e.intervals>1&&f(W.a),clearInterval(t),n(o)},1e3*o)}(e.work),f(j.a),setTimeout(function(){P.disable(),v.current.style.animation="",l(),clearInterval(n),i({text:"",class:"white"}),f(x.a),clearInterval(t)},1e3*e.totalTime)},3e3)},state:e}):r.a.createElement(p,null),r.a.createElement(w,{bars:e.bars,ball:v,canStart:e.canStart}))},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(function(){return r.a.createElement(m.a,{store:D},r.a.createElement(R,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/HIIT",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/HIIT","/service-worker.js");J?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):B(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):B(t,e)})}}()}],[[18,1,2]]]);
//# sourceMappingURL=main.cc3204bf.chunk.js.map