(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/ready.70e83726.mp3"},function(e,t,a){e.exports=a.p+"static/media/steady.344dac33.mp3"},function(e,t,a){e.exports=a.p+"static/media/work.91ac62c8.mp3"},function(e,t,a){e.exports=a.p+"static/media/rest.c425da41.mp3"},function(e,t,a){e.exports=a.p+"static/media/congratulations.d5e8725c.mp3"},,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),s=a.n(o),i=a(11),c=(a(18),a(5)),l=a.n(c),u=a(2),d=a(1);function p(e,t){var a=t.type,n=t.payload;switch(a){case"updateInput":var r=JSON.parse(localStorage.settings);return r=Object(d.a)({},r,Object(u.a)({},n.field,n.value)),localStorage.settings=JSON.stringify(r),Object(d.a)({},e,Object(u.a)({},n.field,n.value));case"updateBars":var o=n.bars,s=n.duration;return Object(d.a)({},e,{bars:o,duration:s});case"startWorkout":return Object(d.a)({},e,{working:!0});case"setWorkingStatus":return Object(d.a)({},e,{progressStatusText:n.text,progressStatusClass:n.class});case"finishWorkout":return Object(d.a)({},e,{working:!1});case"getSettings":var i=JSON.parse(localStorage.settings);return Object(d.a)({},e,{intervals:i.intervals,rest:i.rest,work:i.work,soundsAvailable:i.soundsAvailable});case"toggleSounds":var c=JSON.parse(localStorage.settings);return c.soundsAvailable=n,localStorage.settings=JSON.stringify(c),Object(d.a)({},e,{soundsAvailable:n});default:return e}}var v=a(6),m=a.n(v),g=a(7),f=a.n(g),w=a(8),b=a.n(w),k=a(9),h=a.n(k),y=a(10),S=a.n(y),E=new Audio(m.a),W=new Audio(f.a),O=new Audio(b.a),A=new Audio(h.a),N=new Audio(S.a),j=new l.a,x={intervals:3,work:15,rest:45,working:!1,duration:void 0,bars:[],progressStatusText:"",progressStatusClass:"",soundsAvailable:!0},T=function(){var e=Object(n.useReducer)(p,x),t=Object(i.a)(e,2),a=t[0],o=t[1],s=Object(n.useRef)();function c(e){if(""!==e.target.value&&"0"!==e.target.value){var t=parseInt(e.target.value);e.target.value=t;var a=[e.target.name];o({type:"updateInput",payload:{field:a,value:t}})}}function l(e){a.soundsAvailable&&(e.play(),e.currentTime=0)}return Object(n.useEffect)(function(){for(var e=a.intervals,t=a.work,n=a.rest,r=[],s=e*(n+t)-n,i=0;i<e;i++)r.push({type:"work",width:t/s*100}),i+1<e&&r.push({type:"rest",width:n/s*100});o({type:"updateBars",payload:{bars:r,duration:s}})},[a.intervals,a.work,a.rest]),Object(n.useEffect)(function(){var e=a.intervals,t=a.work,n=a.rest,r=a.soundsAvailable;void 0===localStorage.settings?localStorage.settings=JSON.stringify({intervals:e,work:t,rest:n,soundsAvailable:r}):o({type:"getSettings"})},[]),r.a.createElement("div",{className:"App"},!1===a.working?r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.enable(),s.current.style.animation="pushBall ".concat(a.duration,"s linear 3s"),o({type:"startWorkout"}),o({type:"setWorkingStatus",payload:{text:"Ready",class:"white"}}),l(E),setTimeout(function(){o({type:"setWorkingStatus",payload:{text:"Steady",class:"white"}}),l(W)},1500),setTimeout(function(){var e,t="Work";function n(){o({type:"setWorkingStatus",payload:{text:t,class:"Work"===t?"red":"green"}})}n(),function r(o){e=setTimeout(function(){t="Work"===t?"Rest":"Work",n();var o="Work"===t?a.work:a.rest;l("Work"===t?O:A),clearInterval(e),r(o)},1e3*o)}(a.work),l(O),setTimeout(function(){j.disable(),s.current.style.animation="",o({type:"finishWorkout"}),o({type:"setWorkingStatus",payload:{text:"",class:"white"}}),l(N),clearInterval(e)},1e3*a.duration)},3e3)}},r.a.createElement("div",{className:"intervals"},"Intervals:",r.a.createElement("input",{type:"number",onChange:function(e){return c(e)},name:"intervals",value:a.intervals,min:"1",required:!0})),r.a.createElement("div",{className:"rest-work"},r.a.createElement("section",{className:"work"},r.a.createElement("label",null,"Work ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return c(e)},name:"work",value:a.work,placeholder:"15 s",min:"1",required:!0})),r.a.createElement("section",{className:"rest"},r.a.createElement("label",null,"Rest ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return c(e)},name:"rest",value:a.rest,placeholder:"45 s",min:"1",required:!0}))),r.a.createElement("div",{className:"duration"},r.a.createElement("em",null,"Workout Duration:"),r.a.createElement("strong",null,function(){var e=a.duration%60;e<10&&(e="0"+e);var t=Math.floor(a.duration/60),n=Math.floor(a.duration/3600);return a.duration>=3600?((t%=60)<10&&(t="0"+t),"".concat(n,":").concat(t,":").concat(e)):"".concat(t,":").concat(e)}())),r.a.createElement("p",{className:"sounds"},r.a.createElement("em",null,"Sounds:"),r.a.createElement("input",{type:"checkbox",name:"sounds",checked:a.soundsAvailable,onChange:function(e){return o({type:"toggleSounds",payload:e.target.checked})}})),r.a.createElement("div",{className:"start"},r.a.createElement("button",null,"Start"))):"",a.progressStatusText?r.a.createElement("p",{className:"status ".concat(a.progressStatusClass)},a.progressStatusText):"",r.a.createElement("div",{className:"progress"},a.bars.map(function(e,t){return r.a.createElement("div",{key:t,className:"bar ".concat("rest"===e.type?"rest":"work"),style:{width:e.width+"%"}})}),r.a.createElement("div",{className:"ball",ref:s})))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(T,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/HIIT",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/HIIT","/service-worker.js");I?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):C(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):C(t,e)})}}()}],[[12,1,2]]]);
//# sourceMappingURL=main.cd1fb339.chunk.js.map