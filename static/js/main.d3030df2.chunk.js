(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/work.317b5feb.mp3"},,,,,,,function(e,t,n){e.exports=n.p+"static/media/ready.ab35e130.mp3"},function(e,t,n){e.exports=n.p+"static/media/steady.60cba476.mp3"},function(e,t,n){e.exports=n.p+"static/media/rest.9b6c6a7a.mp3"},function(e,t,n){e.exports=n.p+"static/media/congratulations.7d1710f9.mp3"},,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),s=(n(23),function(e){var t=e.inputOnChange,n=e.intervals;return r.a.createElement("div",{className:"intervals"},"Intervals:",r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"intervals",value:n,min:"1",max:"100",required:!0}))}),c=function(e){var t=e.inputOnChange,n=e.work,a=e.rest;return r.a.createElement("section",{className:"timing"},r.a.createElement("section",{className:"timing-work"},r.a.createElement("label",null,"Work ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"work",value:n,placeholder:"15 s",min:"1",required:!0})),r.a.createElement("section",{className:"timing-rest"},r.a.createElement("label",null,"Rest ",r.a.createElement("span",null,"(s)")),r.a.createElement("input",{type:"number",onChange:function(e){return t(e)},name:"rest",value:a,placeholder:"45 s",min:"1",required:!0})))};function l(e){if(void 0===e)return"";var t=e%60;t<10&&(t="0"+t);var n=Math.floor(e/60),a=Math.floor(e/3600);return e>=3600?((n%=60)<10&&(n="0"+n),"".concat(a,":").concat(n,":").concat(t)):"".concat(n,":").concat(t)}var u=function(e){var t=e.duration;return r.a.createElement("div",{className:"workout-duration"},r.a.createElement("em",null,"Workout Duration:"),r.a.createElement("strong",null,l(t)))},m=n(1),d=function(e){var t=e.soundsAvailable,n=(e.dispatch,Object(m.d)(function(e){return e}).toggleSounds);return r.a.createElement("div",{className:"sounds"},r.a.createElement("em",null,"Sounds:"),r.a.createElement("input",{type:"checkbox",name:"sounds",checked:t,onChange:function(e){return n(e.target.checked)}}))},v=function(e){var t=e.start,n=e.state,a=e.dispatch,o=Object(m.d)(function(e){return e}).updateInput;function i(e){if(""!==e.target.value&&"0"!==e.target.value){var t=parseInt(e.target.value);e.target.value=t;var n=[e.target.name];o({field:n,value:t})}}return r.a.createElement("form",{onSubmit:t,className:"timer-settings"},r.a.createElement(s,{inputOnChange:i,intervals:n.intervals}),r.a.createElement(c,{inputOnChange:i,work:n.work,rest:n.rest}),r.a.createElement(u,{duration:n.duration}),r.a.createElement(d,{soundsAvailable:n.soundsAvailable,dispatch:a}),r.a.createElement("div",{className:"start"},r.a.createElement("button",{type:"submit"},"Start")))},f=function(e){var t=e.currentInterval,n=e.intervals,a=e.remainingTime;return r.a.createElement("div",{className:"remaining-time"},r.a.createElement("span",null,t," / ",n),r.a.createElement("span",null,l(a)))},g=function(e){var t=e.progressStatusClass,n=e.progressStatusText;return r.a.createElement("p",{className:"status ".concat(t)},n)},p=function(e){var t=e.state;return r.a.createElement(a.Fragment,null,r.a.createElement(f,{currentInterval:t.currentInterval,intervals:t.intervals,remainingTime:t.remainingTime}),r.a.createElement(g,{progressStatusClass:t.progressStatusClass,progressStatusText:t.progressStatusText}))},b=function(e){return e.bars.map(function(e,t){return r.a.createElement("div",{key:t,className:"bar ".concat("rest"===e.type?"rest":"work"),style:{width:e.width+"%"}})})},w=n(12),h=n.n(w),k=n(13),E=n.n(k),S=n(14),O=n.n(S),y=n(6),I=n.n(y),N=n(15),T=n.n(N),j=n(16),x=n.n(j),W=n(3),A=n(17),C=Object(m.c)({intervals:3,currentInterval:0,work:15,rest:45,working:!1,duration:void 0,remainingTime:void 0,bars:[],progressStatusText:"",progressStatusClass:"",soundsAvailable:!0,updateInput:Object(m.b)(function(e,t){var n=t.field,a=t.value,r=JSON.parse(localStorage.settings);r=Object(A.a)({},r,Object(W.a)({},n,a)),localStorage.settings=JSON.stringify(r),e[n]=a}),updateBars:Object(m.b)(function(e,t){var n=t.bars,a=t.duration;e.bars=n,e.duration=a}),startWorkout:Object(m.b)(function(e){e.working=!0,e.remainingTime=e.duration}),setWorkingStatus:Object(m.b)(function(e,t){e.progressStatusText=t.text,e.progressStatusClass=t.class}),nextInterval:Object(m.b)(function(e){e.currentInterval=e.currentInterval+1}),remainingTypeReduceSecond:Object(m.b)(function(e){e.remainingTime=e.remainingTime-1}),finishWorkout:Object(m.b)(function(e){e.working=!1,e.currentInterval=0}),getSettings:Object(m.b)(function(e,t){var n=JSON.parse(localStorage.settings);e.intervals=n.intervals,e.rest=n.rest,e.work=n.work,e.soundsAvailable=n.soundsAvailable}),toggleSounds:Object(m.b)(function(e,t){var n=JSON.parse(localStorage.settings);n.soundsAvailable=t,localStorage.settings=JSON.stringify(n),e.soundsAvailable=t})}),R=new h.a,J=function(){var e=Object(m.e)(function(e){return e}),t=Object(m.d)(function(e){return e}),n=t.updateBars,o=t.startWorkout,i=t.setWorkingStatus,s=t.nextInterval,c=t.remainingTypeReduceSecond,l=t.finishWorkout,u=t.getSettings,d=Object(a.useRef)(),f=function(t){e.soundsAvailable&&new Audio(t).play()};return Object(a.useEffect)(function(){for(var t=e.intervals,a=e.work,r=e.rest,o=[],i=t*(r+a)-r,s=0;s<t;s++)o.push({type:"work",width:a/i*100}),s+1<t&&o.push({type:"rest",width:r/i*100});n({bars:o,duration:i})},[e.intervals,e.work,e.rest]),Object(a.useEffect)(function(){var t=e.intervals,n=e.work,a=e.rest,r=e.soundsAvailable;void 0===localStorage.settings?localStorage.settings=JSON.stringify({intervals:t,work:n,rest:a,soundsAvailable:r}):u()},[]),r.a.createElement("div",{className:"App"},!1===e.working?r.a.createElement(v,{start:function(t){t.preventDefault(),R.enable(),d.current.style.animation="pushBall ".concat(e.duration,"s linear 3s"),o(),i({text:"Ready",class:"white"}),f(E.a),setTimeout(function(){i({text:"Steady",class:"white"}),f(O.a)},1500),setTimeout(function(){s();var t,n=setInterval(function(){c()},1e3),a="Work";function r(){i({text:a,class:"Work"===a?"red":"green"})}r(),function n(o){t=setTimeout(function(){a="Work"===a?"Rest":"Work",r();var o="Work"===a?e.work:e.rest;"Work"===a?(f(I.a),s()):e.intervals>1&&f(T.a),clearInterval(t),n(o)},1e3*o)}(e.work),f(I.a),setTimeout(function(){R.disable(),d.current.style.animation="",l(),clearInterval(n),i({text:"",class:"white"}),f(x.a),clearInterval(t)},1e3*e.duration)},3e3)},state:e}):r.a.createElement(p,{state:e}),r.a.createElement("div",{className:"progress"},r.a.createElement(b,{bars:e.bars}),r.a.createElement("div",{className:"ball",ref:d})))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(function(){return r.a.createElement(m.a,{store:C},r.a.createElement(J,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/HIIT",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/HIIT","/service-worker.js");B?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):q(t,e)})}}()}],[[18,1,2]]]);
//# sourceMappingURL=main.d3030df2.chunk.js.map